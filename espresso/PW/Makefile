# Makefile for PW

include ../make.rules
include ../make.sys

PWOBJS = \
aainit.o \
add_efield.o \
add_vuspsi.o \
addusdens.o \
addusforce.o \
addusstress.o \
allocate_fft.o \
allocate_locpot.o \
allocate_nlpot.o \
allocate_wfc.o \
atomic_rho.o \
atomic_wfc.o \
bachel.o \
becmod.o \
bfgs.o \
bp_bess.o \
bp_c_phase.o \
bp_calc_btq.o \
bp_dbess.o \
bp_qvan3.o \
bp_radin.o \
bp_strings.o \
bp_ylm_q.o \
bp_zgedi.o \
bp_zgefa.o \
c_bands.o \
c_gemm.o \
ccalbec.o \
ccgdiagg.o \
cdiagh.o \
cdiaghg.o \
cdiisg.o \
cegterg.o \
cft3.o \
cft3s.o \
cft_3.o \
cft_sgi.o \
cft_sp.o \
cft_sun.o \
cft_t3e.o \
cfts_3.o \
cgather_sym.o \
cgramg1.o \
check.o \
checkallsym.o \
checksym.o \
cinitcgg.o \
clean_pw.o \
close_files.o \
compute_dip.o \
constraints_module.o \
conv_to_num.o \
coset.o \
cryst_to_car.o \
cubicsym.o \
d_matrix.o \
data_structure.o \
date_and_tim.o \
davcio.o \
delta_e.o \
deriv_drhoc.o \
diropn.o \
divide.o \
divide_et_impera.o \
dndepsilon.o \
dndtau.o \
dprojdepsilon.o \
dprojdtau.o \
dqvan2.o \
drhoc.o \
dsum.o \
dvloc_of_g.o \
dylmr2.o \
dynamics.o \
efermig.o \
efermit.o \
electrons.o \
eqvect.o \
error.o \
error_handler.o \
estimate.o \
ewald.o \
ewald_dipole.o \
fft_scatter.o \
fftw.o \
force_cc.o \
force_corr.o \
force_ew.o \
force_hub.o \
force_lc.o \
force_us.o \
forces.o \
funct.o \
functionals.o \
g_psi.o \
g_psi_mod.o \
gather.o \
gen_at_dj.o \
gen_at_dy.o \
gen_us_dj.o \
gen_us_dy.o \
ggen.o \
gk_sort.o \
gradcorr.o \
gweights.o \
h_1psi.o \
h_psi.o \
hexsym.o \
hinit0.o \
hinit1.o \
init_ns.o \
init_paw_1.o \
init_paw_2.o \
init_pool.o \
init_run.o \
init_us_1.o \
init_us_2.o \
init_at_1.o \
init_vloc.o \
input.o \
interpolate.o \
invmat.o \
io_pot.o \
ions.o \
irrek.o \
iweights.o \
kpoint_grid.o \
lchk_tauxk.o \
linmin.o \
lsda_functionals.o \
maximum.o \
mix_pot.o \
mix_rho.o \
mode_group.o \
move_ions.o \
multable.o \
n_plane_waves.o \
neb_routines.o \
new_ns.o \
ns_adj.o \
newd.o \
noncol.o \
openfil.o \
ortho.o \
orthoatwfc.o \
output_tau.o \
para.o \
paw.o \
poolextreme.o \
poolrecover.o \
poolreduce.o \
poolscatter.o \
potinit.o \
print_clock_pw.o \
psymrho.o \
punch.o \
pw_gemm.o \
pwcom.o \
qvan2.o \
random.o \
rbecmod.o \
rdiaghg.o \
read_conf_from_file.o \
read_file.o \
read_ncpp.o \
read_pseudo.o \
readin.o \
readnewvan.o \
readvan.o \
regterg.o \
reduce.o \
remove_atomic_rho.o \
reset_k_points.o \
restart.o \
restart_from_file.o \
restart_in_electrons.o \
restart_in_ions.o \
rgen.o \
rho2zeta.o \
rotate_wfc.o \
rotate_wfc_gamma.o \
ruotaijk.o \
s_1psi.o \
s_axis_to_ca.o \
s_gemm.o \
s_psi.o \
save_in_cbands.o \
save_in_electrons.o \
save_in_ions.o \
saveall.o \
scala_cdiag.o \
scala_cdiaghg.o \
scala_utils.o \
scale_h.o \
scatter.o \
scopy_t3e.o \
seqopn.o \
set_fft_dim.o \
set_hubbard_l.o \
set_kplusq.o \
set_kup_and_kdw.o \
set_rhoc.o \
set_vrs.o \
setlocal.o \
setqf.o \
setup.o \
setupkpt.o \
sgam_at.o \
sgam_ph.o \
sgama.o \
show_memory.o \
smallg_q.o \
startup.o \
stop_pw.o \
stres_cc.o \
stres_ewa.o \
stres_gradcorr.o \
stres_har.o \
stres_hub.o \
stres_knl.o \
stres_loc.o \
stres_us.o \
stress.o \
struct_fact.o \
sum_band.o \
sumkg.o \
sumkt.o \
summary.o \
swap.o \
symrho.o \
symtns.o \
symvect.o \
symz.o \
tabd.o \
trntns.o \
trnvecc.o \
trnvect.o \
tweights.o \
update_pot.o \
updathes.o \
upf_to_internal.o \
usnldiag.o \
v_of_rho.o \
vcsmd.o \
vcsubs.o \
vhpsi.o \
vloc_of_g.o \
vloc_psi.o \
vpack.o \
w0gauss.o \
w1gauss.o \
wfcinit.o \
wgauss.o \
which_dft.o \
write_config_to_file.o \
write_ns.o \
wsweight.o \
ylmr2.o

MODULES = ../Modules/*.o

all : memory.x pw.x

pw.x : $(PWOBJS) pwscf.o
	$(LD) -o pw.x pwscf.o $(PWOBJS) $(MODULES) $(LDFLAGS)

memory.x : $(PWOBJS) memory.o
	$(LD) -o memory.x memory.o $(PWOBJS) $(MODULES) $(LDFLAGS)

clean :
	- /bin/rm -f pw.x memory.x *.o *~ *.F90 *.d *.mod *.i work.pc

include .dependencies
