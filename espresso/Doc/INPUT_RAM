
A Raman/nonlinear susceptibility calculation requires the following steps:

  - a simple scf calculation with pw.x

  - a calculation of electric-field response with ph.x:
    trans=.false., epsil=.true.
    The output delta rho must be saved to a file, let us say 
    fildrho='delta.rhoE'

  - a phonon calculation at q=0 and no electric fields with ph.x:
    trans=.true., epsil=.false.
    The output delta rho must be saved to a file, let us say
    fildrho='delta.rhoU' (must differ from fildrho of the previous step)

  - a non-scf calculation with option calculation='raman' and with
    appropriate values of b_length, lcart set in namelist &raman,
    that follows all other namelists (see below for their meaning)

  - finally, a calculation with ram.x
    The setting of variables fildrho, fildrhou, b_length, lcart 
    depends on the settings of the preceding step. 

Variables outdir and prefix must be the same in all steps.

The input data for ram.x is the same as for a phonon calculation,
followed by a namelist "&inputram".

  See file INPUT_PH for the first part of the input.
  Note that fildrho, in namelist &inputph, must be the same as
  specified in the ph.x electric field step (in the example above,
  'delta.rhoE'), and xq must be set to 0.

  namelist inputram
           ========

  b_length :    length of the b vector to be used for evaluating finite
                differences. MUST BE SPECIFIED and must be the same as
                specified in the calculation='raman' step of pw.x

  lcart :       logical, define whether the finite differences are
                taken along cartesian axis (.true.) or in directions
                of the next neighboring k points. Must be the same as
                pecified in the  calculation='raman' step of pw.x
                Default: .true.
 
  lsus :        logical, defines whether the nonlinear susceptibility 
                is calculated.
                Default: .false.
 
  lram :        logical, defines whether the Raman tensor is calculated.
                default: .false.
 
  lboth :       logical, if .true. the finite differences are calculated
                by taking the values at k+b and k-b
                default: .true.
 
  lelfield :    logical, if .true. the finite differences are calculated
                by taking the values of the perturbed wavefunctions of
                the electric field at the points k+b, while the perturbed
                wavefunctions with the atomic displacement is just
                taken at the points k.
                Default: .false.
     
  latomic :     logical, like lelfield just with the finer mesh for the 
                atomic displacement and the original grid for the electric 
                field.
                default: .false.
 
  fildrhou :    File with the perturbed charge density with respect to an 
                atomic displacement. Must be the same as spedified in the
                ph.x phonon step (in the example above, 'delta.rhoU')
                Default: ' ' 
 
  filsus :      File for the nonlinear susceptibility
                Default: 'nonl_suscept'
              
  filram :      File for the Raman tensor
                Default: 'raman_tens'
 
 
